@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

.sidebar {
  width: 283px;
  height: 100vh;
  background: $color-primary;
  position: fixed;
  left: 0;
  top: 0;
  z-index: 900; // Increased z-index to be above overlay
  overflow-y: auto;
  padding-top: 100px; 
  box-shadow: 0px 5px 20px 0px #0000000A;

  
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba($color-text-secondary, 0.3);
    border-radius: 3px;
    
    &:hover {
      background: rgba($color-text-secondary, 0.5);
    }
  }
  
  .sidebar-content {
    padding: $space-8 0;
  }
  
  .menu-section {
    margin-bottom: $space-6;
    
    .section-title {
      font-size: 12px;
      font-weight: $font-weight-medium;
      color: $color-text-secondary;
      padding: $space-4 $space-8;
      margin-bottom: $space-2;
    }
    
    .menu-list {
      list-style: none;
      padding: 0;
      margin: 0;
      
      .menu-item {
        .menu-link {
          @include flex(row, flex-start, center);
          width: 100%;
          padding: $space-4 $space-8;
          color: rgba($color-text-primary, 0.3);
          text-decoration: none;
          font-size: 16px;
          transition: all 0.2s ease;
          background: transparent;
          border: none;
          cursor: pointer;
          position: relative;
          
          .menu-icon {
            font-size: 16px;
            width: 16px;
            height: 16px;
            margin-right: $space-4;
            min-width: 24px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
          }
          
          .menu-label {
            flex: 1;
            text-align: left;
          }
          .menu-switch{
            flex: 1;
            text-align: left;
            color: $color-text-primary;
          }
          
          .dropdown-arrow {
            font-size: 0.75rem;
            margin-left: auto;
          }
          
          &:hover {
            background: rgba($color-highlight, 0.06);
            color: $color-text-primary;
          }
          
          &.active {
            background: rgba($color-highlight, 0.06);
            color: $color-text-primary;
            border-left: 3px solid $color-highlight;
            padding-left: calc(#{$space-8} - 3px);
            
            &::before {
              content: '';
              position: absolute;
              left: 0;
              top: 0;
              bottom: 0;
              width: 3px;
              background: $color-primary;
            }
          }
          &:focus {
            outline: none;
          }
        }
      }
    }
  }

  
  // Mobile responsive
  @include respond-below(lg) {
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    box-shadow: none;
    
    &.sidebar-open {
      transform: translateX(0);
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
    }
  }
}